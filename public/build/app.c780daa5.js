"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{296:(e,t,r)=>{var n=r(540),i=r(338),o=r(937),a=r(848);const l=function(){return(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("h1",{className:"text-6xl md:text-8xl font-dragon text-transparent bg-clip-text bg-gradient-to-r from-viking-gold via-yellow-500 to-viking-gold mb-8 drop-shadow-sm",children:"Bienvenue dans l'Antre"}),(0,a.jsx)("div",{className:"w-24 h-1 bg-viking-red mx-auto mb-8 rounded-full"}),(0,a.jsx)("p",{className:"text-2xl text-viking-light mb-12 max-w-3xl mx-auto font-serif italic leading-relaxed",children:"\"LÃ  oÃ¹ les cartes s'arrÃªtent, l'aventure commence. Explorez les lÃ©gendes, partagez vos dÃ©couvertes et analysez les donnÃ©es de l'archipel de Berk.\""}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-center gap-6",children:[(0,a.jsxs)(o.N_,{to:"/forum",className:"group relative px-8 py-4 bg-viking-red hover:bg-red-900 border-2 border-viking-gold text-white font-dragon text-xl rounded-lg overflow-hidden transition-all shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:[(0,a.jsx)("span",{className:"relative z-10",children:"AccÃ©der au Forum"}),(0,a.jsx)("div",{className:"absolute inset-0 h-full w-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]}),(0,a.jsx)(o.N_,{to:"/statistique",className:"px-8 py-4 bg-viking-rock hover:bg-stone-700 border-2 border-stone-500 text-viking-light hover:text-white font-dragon text-xl rounded-lg transition-all shadow-lg",children:"Voir les Stats"})]})]})};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const d=function(){var e=s((0,n.useState)([]),2),t=e[0],r=e[1],i=s((0,n.useState)(!0),2),l=i[0],c=i[1],d=s((0,n.useState)(null),2),u=d[0],f=d[1];return(0,n.useEffect)(function(){fetch("/api/articles",{headers:{Accept:"application/ld+json"}}).then(function(e){if(!e.ok)throw new Error("Erreur rÃ©seau");return e.json()}).then(function(e){var t=e["hydra:member"]||[];r(t),c(!1)}).catch(function(e){f("Les archives sont inaccessibles."),c(!1)})},[]),l?(0,a.jsx)("div",{className:"text-center text-viking-gold font-dragon text-2xl py-20 animate-pulse",children:"Consultation des archives..."}):u?(0,a.jsx)("div",{className:"text-center text-viking-fire font-bold py-10",children:u}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8 border-b border-viking-gold/30 pb-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-dragon text-viking-parchment",children:"Chroniques des Chasseurs"}),(0,a.jsxs)("span",{className:"bg-viking-red px-3 py-1 rounded text-white font-bold text-sm border border-viking-gold",children:[t.length," RÃ©cits"]})]}),0===t.length?(0,a.jsx)("p",{className:"text-viking-light text-center italic",children:"Les parchemins sont vierges..."}):(0,a.jsx)("div",{className:"grid gap-6",children:t.map(function(e){return(0,a.jsxs)("div",{className:"group bg-viking-rock p-6 rounded-sm border border-stone-600 border-l-4 border-l-viking-gold hover:border-l-viking-fire hover:bg-stone-800 transition duration-300 shadow-lg relative overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-2xl font-dragon text-viking-gold mb-2 group-hover:text-white transition",children:e.title}),(0,a.jsx)("p",{className:"text-viking-light mb-6 line-clamp-2 font-serif leading-relaxed",children:e.summary}),(0,a.jsxs)("div",{className:"flex justify-between items-end mt-4",children:[(0,a.jsx)("span",{className:"text-xs text-stone-500 uppercase tracking-widest font-bold",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)(o.N_,{to:"/forum/article/".concat(e.id),className:"text-viking-fire hover:text-viking-gold font-bold uppercase text-sm tracking-wider flex items-center gap-1 transition",children:["Lire le parchemin ",(0,a.jsx)("span",{children:"â†’"})]})]})]},e.id)})})]})};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const x=function(){var e=(0,o.g)().id,t=u((0,n.useState)(null),2),r=t[0],i=t[1],l=u((0,n.useState)(!0),2),s=l[0],c=l[1];return(0,n.useEffect)(function(){fetch("/api/articles/".concat(e),{headers:{Accept:"application/ld+json"}}).then(function(e){return e.json()}).then(function(e){i(e),c(!1)}).catch(function(e){return c(!1)})},[e]),s?(0,a.jsx)("div",{className:"text-center text-white py-10",children:"Recherche dans les archives..."}):r?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)(o.N_,{to:"/forum",className:"text-slate-400 hover:text-white mb-4 inline-block",children:"â† Retour"}),(0,a.jsxs)("div",{className:"bg-slate-800 p-8 rounded-lg border border-slate-700 mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-400 mb-4",children:r.title}),(0,a.jsx)("p",{className:"text-slate-300 text-lg leading-relaxed",children:r.summary})]})]}):(0,a.jsx)("div",{className:"text-center text-red-500 py-10",children:"Article introuvable !"})};var h=r(106),m=r(731);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}h.t1.register(h.PP,h.kc,h.E8,h.hE,h.m_,h.s$,h.Bs,h.FN,h.No);const k=function(){var e=j((0,n.useState)(null),2),t=e[0],r=e[1],i=j((0,n.useState)(null),2),o=i[0],l=i[1],s=j((0,n.useState)(null),2),c=s[0],d=s[1],u=function(e,t){fetch(e).then(function(e){return e.ok?e.text():null}).then(function(e){if(e){var r=e.trim().split("\n");if(!(r.length<2)){var n=r[0].split(";").map(function(e){return e.trim()}),i=r.slice(1).map(function(e){var t=e.split(";").map(function(e){return e.trim()});return n.reduce(function(e,r,n){return v(v({},e),{},p({},r,t[n]))},{})});i.length&&t(i)}}}).catch(function(e){return console.error(e)})};(0,n.useEffect)(function(){u("/data/stats/box_office.csv",function(e){r({labels:e.map(function(e){return e.Film}),datasets:[{label:"M$",data:e.map(function(e){return parseFloat(e["Box Office (Millions $)"])}),backgroundColor:["#7f1d1d","#dc2626","#d97706"],borderColor:"#292524",borderWidth:2}]})}),u("/data/stats/berk_population.csv",function(e){l({labels:e.map(function(e){return e.Groupe}),datasets:[{data:e.map(function(e){return parseFloat(e.Population)}),backgroundColor:["#d97706","#7f1d1d","#57534e","#a8a29e"],borderColor:"#1c1917",borderWidth:2}]})}),u("/data/stats/dragons_timeline.csv",function(e){d({labels:e.map(function(e){return e["AnnÃ©e"]}),datasets:[{label:"EspÃ¨ces",data:e.map(function(e){return parseFloat(e["EspÃ¨ces RecensÃ©es"])}),borderColor:"#d97706",backgroundColor:"rgba(217, 119, 6, 0.2)",pointBackgroundColor:"#fff",tension:.3}]})})},[]);var f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e7e5e4",font:{family:"serif"}}}},scales:{y:{ticks:{color:"#a8a29e"},grid:{color:"#44403c"}},x:{ticks:{color:"#a8a29e"},grid:{color:"#44403c"}}}};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h1",{className:"text-5xl font-dragon text-viking-gold mb-4 drop-shadow-md",children:"L'Observatoire de Berk"}),(0,a.jsx)("p",{className:"text-viking-light text-lg italic border-b border-viking-gold/30 inline-block pb-2",children:"Recensement officiel de l'archipel"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-viking-rock p-6 rounded-lg border-2 border-stone-600 shadow-2xl relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-viking-gold"}),(0,a.jsx)("h3",{className:"text-2xl font-dragon text-white mb-6",children:"TrÃ©sor de Guerre"}),(0,a.jsx)("div",{className:"h-64 relative",children:t?(0,a.jsx)(m.yP,{options:f,data:t}):(0,a.jsx)("p",{className:"text-center mt-10",children:"Chargement..."})})]}),(0,a.jsxs)("div",{className:"bg-viking-rock p-6 rounded-lg border-2 border-stone-600 shadow-2xl relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-viking-gold"}),(0,a.jsx)("h3",{className:"text-2xl font-dragon text-white mb-6",children:"Clans & Tribus"}),(0,a.jsx)("div",{className:"h-64 relative flex justify-center",children:o?(0,a.jsx)(m.nu,{options:v(v({},f),{},{scales:{}}),data:o}):(0,a.jsx)("p",{className:"text-center mt-10",children:"Chargement..."})})]}),(0,a.jsxs)("div",{className:"bg-viking-rock p-6 rounded-lg border-2 border-stone-600 shadow-2xl md:col-span-2 relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-viking-gold"}),(0,a.jsx)("h3",{className:"text-2xl font-dragon text-white mb-6",children:"Chronologie des DÃ©couvertes"}),(0,a.jsx)("div",{className:"h-80 relative",children:c?(0,a.jsx)(m.N1,{options:f,data:c}):(0,a.jsx)("p",{className:"text-center mt-10",children:"Chargement..."})})]})]})]})};const N=function(){return(0,a.jsx)("nav",{className:"bg-viking-rock border-b-2 border-viking-gold/50 p-4 sticky top-0 z-50 shadow-lg backdrop-blur-sm bg-opacity-95",children:(0,a.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,a.jsxs)(o.N_,{to:"/",className:"text-3xl font-dragon text-viking-gold hover:text-white transition flex items-center gap-2 drop-shadow-md",children:[(0,a.jsx)("span",{className:"text-4xl",children:"ðŸ‰"})," DragonCMS"]}),(0,a.jsxs)("ul",{className:"flex space-x-8 text-lg font-dragon tracking-wide text-viking-light",children:[(0,a.jsx)("li",{children:(0,a.jsx)(o.N_,{to:"/",className:"hover:text-viking-gold hover:border-b border-viking-fire pb-1 transition-all duration-300",children:"Accueil"})}),(0,a.jsx)("li",{children:(0,a.jsx)(o.N_,{to:"/statistique",className:"hover:text-viking-gold hover:border-b border-viking-fire pb-1 transition-all duration-300",children:"Statistiques"})}),(0,a.jsx)("li",{children:(0,a.jsx)(o.N_,{to:"/forum",className:"hover:text-viking-gold hover:border-b border-viking-fire pb-1 transition-all duration-300",children:"Forum"})})]})]})})};var w=function(){return(0,a.jsx)(o.Kd,{children:(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsxs)("div",{className:"w-full h-32 md:h-48 overflow-hidden border-b-4 border-viking-gold relative shadow-2xl",children:[(0,a.jsx)("img",{src:"/images/banniere.png",alt:"BanniÃ¨re Dragons",className:"w-full h-full object-cover object-center brightness-75 hover:brightness-100 transition duration-700"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-viking-dark to-transparent opacity-60"})]}),(0,a.jsx)(N,{}),(0,a.jsx)("div",{className:"container mx-auto py-10 px-4 flex-grow relative z-10",children:(0,a.jsxs)(o.BV,{children:[(0,a.jsx)(o.qh,{path:"/",element:(0,a.jsx)(l,{})}),(0,a.jsx)(o.qh,{path:"/forum",element:(0,a.jsx)(d,{})}),(0,a.jsx)(o.qh,{path:"/forum/article/:id",element:(0,a.jsx)(x,{})}),(0,a.jsx)(o.qh,{path:"/statistique",element:(0,a.jsx)(k,{})})]})}),(0,a.jsx)("footer",{className:"bg-viking-rock border-t border-viking-gold/30 py-6 mt-10 text-center text-viking-light font-dragon text-sm",children:(0,a.jsx)("p",{children:"Â© L'AcadÃ©mie de Berk - Archives Draconiques"})})]})})},S=document.getElementById("react-root");S&&(0,i.createRoot)(S).render((0,a.jsx)(w,{}))}},e=>{e.O(0,[874],()=>{return t=296,e(e.s=t);var t});e.O()}]);